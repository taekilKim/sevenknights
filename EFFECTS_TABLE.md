# Effects 테이블 가이드

스킬 부가효과를 재사용 가능한 형태로 중앙 관리하기 위한 Effects 테이블 설정 및 사용법입니다.

## 📋 Airtable Effects 테이블 스키마

Airtable에서 "Effects"라는 이름으로 새 테이블을 생성하고 다음 필드들을 추가하세요:

| 필드명 | 타입 | 설명 | 예시 |
|--------|------|------|------|
| `Name` | Single line text | 효과 이름 (필수) | "화상 면역", "물리 공격력 증가" |
| `Description` | Long text | 효과 설명 (변수는 'n'으로 표시) | "물리 공격력이 n% 증가합니다" |
| `HasVariable` | Checkbox | 변수 포함 여부 | ☑ (물리 공격력 증가의 경우) |
| `Icon` | Attachment | 효과 아이콘 이미지 (선택사항) | 이미지 파일 업로드 |
| `Color` | Single line text | 효과 박스 색상 hex 코드 (선택사항) | "#10b981" |

## 🎨 Effects 테이블 예시 데이터

| Name | Description | HasVariable | Icon | Color |
|------|-------------|-------------|------|-------|
| 화상 면역 | 화상 상태에 면역이 됩니다 | ☐ | 🔥 | #ef4444 |
| 물리 공격력 증가 | 물리 공격력이 n% 증가합니다 | ☑ | ⚔️ | #f97316 |
| 마법 피해량 증가 | 마법 피해량이 n% 증가합니다 | ☑ | ✨ | #a855f7 |
| 침묵 면역 | 침묵 상태에 면역이 됩니다 | ☐ | 🤐 | #3b82f6 |
| 방어력 감소 | 대상의 방어력을 n% 감소시킵니다 | ☑ | 🛡️ | #6366f1 |

## 📝 스킬 설명에서 사용하는 방법

Skills 테이블의 `desc` 필드에서 다음과 같은 마커를 사용하세요:

### 1. 변수가 없는 고정 효과
```
<<화상 면역>>
<<침묵 면역>>
```

### 2. 변수가 있는 효과
```
<<물리 공격력 증가, 31>>
<<마법 피해량 증가, 45>>
<<방어력 감소, 20>>
```

### 3. 전체 스킬 설명 예시
```
!적군 단일
<<화상 면역>>
<<물리 공격력 증가, 31>>

대상에게 강력한 물리 피해를 입힙니다.
**추가 효과**: 치명타 확률 증가

#모든 아군
<<마법 피해량 증가, 15>>
```

## 🎯 렌더링 결과

마커를 사용하면 다음과 같이 표시됩니다:

- **효과 이름**: 굵게 표시
- **효과 설명**: Description 필드 내용 (변수는 실제 값으로 치환)
- **아이콘**: Icon 필드가 있으면 이미지로 표시, 없으면 기본 아이콘(✦) 사용
- **박스 색상**: Color 필드가 있으면 해당 색상, 없으면 기본 녹색(#10b981)
- **스타일**: 그라데이션 배경, 왼쪽 테두리, 그림자 효과

## 🔧 변수 치환 규칙

- Description에서 `n`을 사용하여 변수 위치를 표시
- HasVariable이 체크되어 있고 마커에 변수가 제공되면, `n`이 해당 값으로 치환됩니다
- 예:
  - Description: "물리 공격력이 n% 증가합니다"
  - 마커: `<<물리 공격력 증가, 31>>`
  - 결과: "물리 공격력이 31% 증가합니다"

## ⚠️ 주의사항

1. **효과 이름은 정확히 일치**해야 합니다 (대소문자, 공백 포함)
2. 효과를 찾지 못하면 **빨간색 경고 박스**로 표시됩니다
3. 변수가 필요한 효과인데 변수를 제공하지 않으면 'n'이 그대로 표시됩니다
4. 마커는 **한 줄에 하나**씩 작성해야 합니다

## 🎨 커스터마이징

### 아이콘 이미지 추가
Airtable의 Icon 필드에 이미지를 업로드하면 자동으로 표시됩니다. 권장 크기: 24x24px

### 커스텀 색상 사용
Color 필드에 hex 색상 코드를 입력하면 효과 박스의 왼쪽 테두리 색상이 변경됩니다.

예시 색상:
- 빨강: `#ef4444`
- 주황: `#f97316`
- 노랑: `#eab308`
- 녹색: `#10b981`
- 파랑: `#3b82f6`
- 보라: `#a855f7`

## 🚀 API 엔드포인트

Effects 데이터는 다음 엔드포인트에서 조회할 수 있습니다:
```
GET /api/effects
```

응답 예시:
```json
[
  {
    "id": "recXXXXXXXXXXXXX",
    "name": "화상 면역",
    "description": "화상 상태에 면역이 됩니다",
    "hasVariable": false,
    "icon": "https://...",
    "color": "#ef4444"
  },
  {
    "id": "recYYYYYYYYYYYYY",
    "name": "물리 공격력 증가",
    "description": "물리 공격력이 n% 증가합니다",
    "hasVariable": true,
    "icon": null,
    "color": "#f97316"
  }
]
```

## 💡 팁

1. **자주 사용되는 효과**를 먼저 추가하세요 (예: 면역, 공격력 증가, 피해량 증가)
2. **일관된 네이밍**을 사용하세요 (예: "증가" vs "상승" 중 하나로 통일)
3. **색상 코드를 효과 타입별로 구분**하면 가독성이 좋습니다
   - 버프: 녹색/파랑 계열
   - 디버프: 빨강/주황 계열
   - 면역: 회색/파랑 계열
4. Icon 이미지는 **투명 배경 PNG**를 권장합니다
